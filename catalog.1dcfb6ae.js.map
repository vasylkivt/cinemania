{"mappings":"qhBAAAA,EAAA,SAAAC,SAA8CC,KAAKC,MAAM,2N,kDCAzDC,EAAiB,IAAAC,IAAoBL,EAAA,SAAAM,QAA6C,SAAQC,OAAAC,KAAAC,KAAEC,WCA5F,MAaaC,EAAS,C,OAbP,KACbC,SAASC,KAAKC,mBACZ,YACA,6EAGD,E,QAGa,KACdF,SAASG,cAAc,oBAAoBC,QAAQ,G,8BC6B1BC,WACzB,IACEN,EAAOO,SACP,MACMC,SADiBC,EAAAC,SAASC,qBAAqB,QACxBC,MAAM,EAAG,GAEtCX,SAASG,cAAc,oBAAoBS,UACzCC,EAAsBN,IACxB,EAAAO,EAAAC,iCAEA,MAAMC,EAAiBhB,SAASG,cAAc,0BACxCc,EAAkBjB,SAASG,cAAc,2BAE/C,IAAIe,OACF,mBA5Ce,EAACF,EAAgBC,KAAqB,CACzDE,OAAQ,OACRC,MAAM,EACNC,SAAU,CACRC,SAAS,GAEXC,SAAU,CACRC,MAAO,IACPC,sBAAsB,EACtBC,mBAAmB,GAErBC,GAAI,CACFC,iBAAiBC,EAAGC,EAAMC,GACxBf,EAAegB,MAAMC,YAAY,aAAc,EAAIF,GACnDd,EAAgBiB,YAAc,GAAGC,KAAKC,KAAKN,EAAO,O,GAGtDO,YAAY,EACZC,WAAY,CACVC,QAAQ,EACRC,cAAc,EACdC,aAAc,GACdC,YAAa,KAEfC,WAAY,CACVC,GAAI,qBACJC,WAAW,KAmBTC,CAAa9B,EAAgBC,G,CAE/B,MAAO8B,GACPC,QAAQC,IAAI,SAAUF,E,CAExBhD,EAAOmD,SAAS,EAGlBC,GAEA,MAAMtC,EAAwBuC,GAAU,mDAG9BA,EAAOC,KAAIC,GAASC,EAAsBD,KAAQE,KAAK,gPAW3DD,EAAwB,EAACE,GAC7BA,EAAEC,cACFA,EAAaC,eACbA,EAAcC,SACdA,EAAQC,aACRA,MACI,8FA6BYC,EAzBCJ,EAyBeK,EAzBAL,EA0BT,OAAnBI,GAA4BA,EAIzB,wDACmCA,sDACDA,uEAEOA,gGAEnCC,KATJ,QAAQC,EAAAxE,YAAoBuE,0HAvBHJ,kEC5FHM,ED8Fc,GAAfJ,EC7FvB,kGAGgBI,iGD4FSL,8GAIUH,2KAIAA,wJCxGX,IAAAQ,EDiHfH,EAAgBC,CAFvB","sources":["node_modules/@parcel/runtime-js/lib/runtime-1c76a31eb09e6a7a.js","node_modules/@parcel/runtime-js/lib/runtime-a13326a1c56907f8.js","src/js/components/loader.js","src/js/pages/catalog/hero.js","src/js/components/rating-stars.js"],"sourcesContent":["require('./helpers/bundle-manifest').register(JSON.parse(\"{\\\"9NLH0\\\":\\\"catalog.1dcfb6ae.js\\\",\\\"jMrmu\\\":\\\"default_horizontal_poster_path.736ae198.jpg\\\",\\\"7mVsD\\\":\\\"catalog.d6b9a5fd.css\\\",\\\"kJsjH\\\":\\\"catalog.3318aafb.js\\\"}\"));","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"jMrmu\")).toString();","const onShow = () => {\n  document.body.insertAdjacentHTML(\n    'beforeend',\n    `<div class=\"backdrop-loader\">\n  <div class=\"lds-dual-ring\"></div>\n</div>`\n  );\n};\n\nconst onClose = () => {\n  document.querySelector('.backdrop-loader').remove();\n};\n\nexport const Loader = { onShow, onClose };\n","import { ratingStarsMarkup } from '../../components/rating-stars';\nimport defaultImg from '../../../images/default_horizontal_poster_path.jpg';\nimport { Loader } from '../../components/loader';\nimport { TMDB_API } from '../../api/themoviedbAPI';\nimport { addEventListenerByOpenTrailer } from '../../services/open-movie-trailer';\n\n// import '~/node_modules/swiper/swiper-bundle.min.js';\n// import Swiper from 'swiper';\n\nconst swiperOption = (progressCircle, progressContent) => ({\n  effect: 'cube',\n  loop: true,\n  keyboard: {\n    enabled: true,\n  },\n  autoplay: {\n    delay: 5000,\n    disableOnInteraction: false,\n    pauseOnMouseEnter: true,\n  },\n  on: {\n    autoplayTimeLeft(s, time, progress) {\n      progressCircle.style.setProperty('--progress', 1 - progress);\n      progressContent.textContent = `${Math.ceil(time / 1000)}s`;\n    },\n  },\n  grabCursor: true,\n  cubeEffect: {\n    shadow: true,\n    slideShadows: true,\n    shadowOffset: 20,\n    shadowScale: 0.94,\n  },\n  pagination: {\n    el: '.swiper-pagination',\n    clickable: true,\n  },\n});\n\nconst getTrendMovieOfDay = async () => {\n  try {\n    Loader.onShow();\n    const response = await TMDB_API.getTrendMovieByParam('day');\n    const correctList = response.slice(0, 5);\n\n    document.querySelector('.js-hero-wrapper').innerHTML =\n      createMarkupMovieList(correctList);\n    addEventListenerByOpenTrailer();\n\n    const progressCircle = document.querySelector('.autoplay-progress svg');\n    const progressContent = document.querySelector('.autoplay-progress span');\n\n    new Swiper(\n      '.js-hero-wrapper',\n      swiperOption(progressCircle, progressContent)\n    );\n  } catch (error) {\n    console.log('error:', error);\n  }\n  Loader.onClose();\n};\n\ngetTrendMovieOfDay();\n\nconst createMarkupMovieList = movies => `\n\n      <div class=\"swiper-wrapper\">\n        ${movies.map(movie => createMarkupMovieItem(movie)).join('')}\n      </div>\n      <div class=\"swiper-pagination\"></div>\n      <div class=\"autoplay-progress\">\n      <svg viewBox=\"0 0 48 48\">\n        <circle cx=\"24\" cy=\"24\" r=\"20\"></circle>\n      </svg>\n      <span></span>\n    </div>\n    `;\n\nconst createMarkupMovieItem = ({\n  id,\n  backdrop_path,\n  original_title,\n  overview,\n  vote_average,\n}) => `\n    <div class=\"swiper-slide\">\n\n        <img class=\"hero-background-img\n        ${getBgImg(backdrop_path, backdrop_path, original_title)}/>\n      \n      <div class=\"container\">\n        <div class=\"hero-text-wrap\">\n          <h1 class=\" hero-title\">${original_title}</h1>\n          <div class=\"hero-movie-rating\">\n            ${ratingStarsMarkup(vote_average * 10)}\n          </div>\n          <p class=\" hero-text\">${overview}</p>\n        </div>\n\n        <div class=\"hero-button-wrap\">\n        <button data-movie_id_for_trailer=${id}\n            type=\"button\" class=\"js-button-show-trailer button-accent\">\n              Watch trailer\n          </button>\n          <button data-movie_id_for_modal=${id}\n            type=\"button\" class=\"button-light-theme\">\n              More details\n          </button>\n        </div>\n\n      </div>\n    </div>`;\n\nfunction getBgImg(backdropPoster, title) {\n  if (backdropPoster === null || !backdropPoster) {\n    return `src='${defaultImg}' alt='${title}'`;\n  }\n\n  return ` srcset=\"\n          https://image.tmdb.org/t/p/w1280${backdropPoster} 1280w,\n          https://image.tmdb.org/t/p/w780${backdropPoster}  280w\n        \"\n        src=\"https://image.tmdb.org/t/p/original${backdropPoster}\"\n        sizes=\" (min-width: 768px) 704px, (min-width: 320px) 280px, 100vw\"\n        alt=\"${title}\"`;\n}\n","export const ratingStarsMarkup = rating => {\n  return `\n  <div class=\"rating-container\">\n    <div class=\"star-empty\"></div>\n    <div style=\" width:${rating}%;\"  class=\"star-full\"></div>\n  </div>`;\n};\n"],"names":["parcelRequire","register","JSON","parse","$ad79beeecdb188db$exports","URL","resolve","import","meta","url","toString","$770740dca78365cc$export$3b0d6d7590275603","document","body","insertAdjacentHTML","querySelector","remove","async","onShow","correctList","$hAgMS","TMDB_API","getTrendMovieByParam","slice","innerHTML","$4bae74e8f08ddbf9$var$createMarkupMovieList","$4ss66","addEventListenerByOpenTrailer","progressCircle","progressContent","Swiper","effect","loop","keyboard","enabled","autoplay","delay","disableOnInteraction","pauseOnMouseEnter","on","autoplayTimeLeft","s","time","progress","style","setProperty","textContent","Math","ceil","grabCursor","cubeEffect","shadow","slideShadows","shadowOffset","shadowScale","pagination","el","clickable","$4bae74e8f08ddbf9$var$swiperOption","error","console","log","onClose","$4bae74e8f08ddbf9$var$getTrendMovieOfDay","movies","map","movie","$4bae74e8f08ddbf9$var$createMarkupMovieItem","join","id","backdrop_path","original_title","overview","vote_average","backdropPoster","title","$parcel$interopDefault","rating"],"version":3,"file":"catalog.1dcfb6ae.js.map"}