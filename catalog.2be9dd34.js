function e(e){return e&&e.__esModule?e.default:e}var n="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},t={},a={},r=n.parcelRequire1134;null==r&&((r=function(e){if(e in t)return t[e].exports;if(e in a){var n=a[e];delete a[e];var r={id:e,exports:{}};return t[e]=r,n.call(r.exports,r,r.exports),r.exports}var o=new Error("Cannot find module '"+e+"'");throw o.code="MODULE_NOT_FOUND",o}).register=function(e,n){a[e]=n},n.parcelRequire1134=r),r("kyEFX").register(JSON.parse('{"9NLH0":"catalog.2be9dd34.js","jMrmu":"default_horizontal_poster_path.736ae198.jpg","18ZJf":"default-image-for-movie.30fb3bbd.webp","7mVsD":"catalog.ba862f98.css","kJsjH":"catalog.56cc4165.js"}')),r("cUkdy"),r("lqBOC"),r("dXNYQ"),r("egm79");const o=e=>`\n  <div class="rating-container">\n    <div class="star-empty"></div>\n    <div style=" width:${e}%;"  class="star-full"></div>\n  </div>`;var s;s=new URL(r("kyEFX").resolve("jMrmu"),import.meta.url).toString();const i={onShow:()=>{document.body.insertAdjacentHTML("beforeend",'<div class="backdrop-loader">\n  <div class="lds-dual-ring"></div>\n</div>')},onClose:()=>{document.querySelector(".backdrop-loader").remove()}};var l=r("hAgMS"),d=r("4ss66");const c=new(0,l.TMDB_API);(async()=>{try{i.onShow();const{results:e}=await c.getTrendMovieByParam("day"),n=e.slice(0,5);document.querySelector(".js-hero-wrapper").innerHTML=p(n),(0,d.addEventListenerByOpenTrailer)();const t=document.querySelector(".autoplay-progress svg"),a=document.querySelector(".autoplay-progress span");new Swiper(".js-hero-wrapper",u(t,a))}catch(e){console.log("error:",e)}i.onClose()})();const u=(e,n)=>({effect:"cube",loop:!0,keyboard:{enabled:!0},autoplay:{delay:5e3,disableOnInteraction:!1,pauseOnMouseEnter:!0},on:{autoplayTimeLeft(t,a,r){e.style.setProperty("--progress",1-r),n.textContent=`${Math.ceil(a/1e3)}s`}},grabCursor:!0,cubeEffect:{shadow:!0,slideShadows:!0,shadowOffset:20,shadowScale:.94},pagination:{el:".swiper-pagination",clickable:!0}}),p=e=>`\n\n      <div class="swiper-wrapper">\n        ${e.map((e=>v(e))).join("")}\n      </div>\n      <div class="swiper-pagination"></div>\n      <div class="autoplay-progress">\n      <svg viewBox="0 0 48 48">\n        <circle cx="24" cy="24" r="20"></circle>\n      </svg>\n      <span></span>\n    </div>\n    `,v=({id:n,backdrop_path:t,original_title:a,overview:r,vote_average:i})=>{return`\n    <div class="swiper-slide">\n\n        <img class="hero-background-img\n        ${l=t,d=t,null!==l&&l?` srcset="\n          https://image.tmdb.org/t/p/w1280${l} 1280w,\n          https://image.tmdb.org/t/p/w780${l}  280w\n        "\n        src="https://image.tmdb.org/t/p/original${l}"\n        sizes=" (min-width: 768px) 704px, (min-width: 320px) 280px, 100vw"\n        alt="${d}"`:`src='${e(s)}' alt='${d}'`}/>\n      \n      <div class="container">\n        <div class="hero-text-wrap">\n          <h1 class=" hero-title">${a}</h1>\n          <div class="hero-movie-rating">\n            ${o(10*i)}\n          </div>\n          <p class=" hero-text">${r}</p>\n        </div>\n\n        <div class="hero-button-wrap">\n        <button data-movie_id_for_trailer=${n}\n            type="button" class="js-button-show-trailer button-accent">\n              Watch trailer\n          </button>\n          <button data-movie_id_for_modal=${n}\n            type="button" class="button-light-theme">\n              More details\n          </button>\n        </div>\n\n      </div>\n    </div>`;var l,d};l=r("hAgMS");var m;m=new URL(r("kyEFX").resolve("18ZJf"),import.meta.url).toString();const g=(n,t)=>n.map((({id:n,poster_path:a,genre_ids:r,original_title:s,release_date:i,vote_average:l})=>{return`\n        <li data-movie_id_for_modal="${n}" class="movie-card">\n          <img\n          ${d=a,c=s,null!==d&&d?`\n    srcset="\n    https://image.tmdb.org/t/p/w300/${d} 342w,\n    https://image.tmdb.org/t/p/w500/${d} 500w\n            "\n       src="https://image.tmdb.org/t/p/w500/${d}"\n     sizes="(min-width: 768px) 500px, (min-width: 480px) 342px, (min-width: 320px) 185px, 100vw"   \n     alt='${c}'`:`src='${e(m)}' alt='${c}'`}\n          class="movie-card-img"\n          width="280"\n          height="406"\n          />\n          <div class="movie-card-wrapper">\n              <h2 class="movie-card-title">${s}</h2>\n              <p class="movie-card-text">\n                ${function(e,n){let t="";0===e?.length?t="Unknown Genre":e&&(t=function(e,n){try{return e.map((e=>{const t=n.find((n=>n.id===e));return t?t.name:null}))}catch(e){return["Unknown Genre"]}}(e,n).slice(0,1).join(" "));return t}(r,t)} | ${i.slice(0,4)}\n              </p>\n              <div class="movie-card-rating">\n              ${o(10*l)}\n              </div>\n          </div>\n        </li>\n       `;var d,c})).join("");const h=new(0,l.TMDB_API),w=document.querySelector(".js-catalog-movie-list"),y=document.querySelector(".js-catalog-search-form-button-close");async function f(e){try{if(i.onShow(),"week-movies"===e){const e=await h.getTrendMovieByParam("week"),n=await h.getGenresList();b(e,n)}else if("query-movies"===e){const e=await h.searchMovieByQuery(),n=await h.getGenresList();b(e,n)}}catch(e){console.log("Error:",e)}i.onClose()}f("week-movies");const b=(e,n)=>{const{results:t,page:a,total_pages:r,total_results:o}=e,s=document.querySelector(".js-catalog-pagination");if(0===t.length)return s.innerHTML="",void(w.innerHTML='\n    <p class="catalog-message">\n        <span>OOPS...</span>\n        <span>We are very sorry!</span>\n        <span>We donâ€™t have any results matching your search.</span>\n    </p >\n    ');a<r?(s.innerHTML='<button class="js-load-more button-dark-theme" type="button">Load More</button><div>pagination</div>',document.querySelector(".js-load-more").addEventListener("click",M)):s.innerHTML="",1===h.page&&(w.innerHTML=""),w.insertAdjacentHTML("beforeend",g(t,n))},_=document.querySelector(".js-catalog-search-form"),{query:$,queryText:S,select:L}=_.elements;function M(){h.page+=1,""===h.query?f("week-movies"):f("query-movies")}$.addEventListener("input",(()=>{y.classList.remove("is-hidden"),S.placeholder=$.value,""===$.value&&y.classList.add("is-hidden")})),y.addEventListener("click",(()=>{y.classList.add("is-hidden"),$.value="",S.placeholder="Film"})),_.addEventListener("submit",(function(e){if(e.preventDefault(),h.page=1,h.query===$.value&&h.year===L.value)return;if(""===$.value.trim())return;""!==L.value&&(h.year=L.value);h.query=$.value,f("query-movies")}));
//# sourceMappingURL=catalog.2be9dd34.js.map
