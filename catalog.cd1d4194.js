!function(){function e(e){return e&&e.__esModule?e.default:e}var n="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},t={},a={},r=n.parcelRequire1134;null==r&&((r=function(e){if(e in t)return t[e].exports;if(e in a){var n=a[e];delete a[e];var r={id:e,exports:{}};return t[e]=r,n.call(r.exports,r,r.exports),r.exports}var o=new Error("Cannot find module '"+e+"'");throw o.code="MODULE_NOT_FOUND",o}).register=function(e,n){a[e]=n},n.parcelRequire1134=r),r("iE7OH").register(JSON.parse('{"gin8l":"catalog.cd1d4194.js","gVEw5":"default_horizontal_poster_path.736ae198.jpg","aI1lb":"default-image-for-movie.30fb3bbd.webp","7mVsD":"catalog.ba862f98.css","30zUr":"catalog.1d9163ce.js"}')),r("7nDBO"),r("f8JN4"),r("fk8Hr"),r("iz4gI");var o,i=r("bpxeT"),s=r("2TvXO"),c=function(e){return'\n  <div class="rating-container">\n    <div class="star-empty"></div>\n    <div style=" width:'.concat(e,'%;"  class="star-full"></div>\n  </div>')};o=r("aNJCr").getBundleURL("gin8l")+r("iE7OH").resolve("gVEw5");var l,d={onShow:function(){document.body.insertAdjacentHTML("beforeend",'<div class="backdrop-loader">\n  <div class="lds-dual-ring"></div>\n</div>')},onClose:function(){document.querySelector(".backdrop-loader").remove()}},u=r("lpiv7"),p=r("gYAW9"),v=new(0,u.TMDB_API),g=(l=e(i)(e(s).mark((function n(){var t,a,r,o;return e(s).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,d.onShow(),e.next=4,v.getTrendMovieByParam("day");case 4:t=e.sent.results,a=t.slice(0,5),document.querySelector(".js-hero-wrapper").innerHTML=m(a),(0,p.addEventListenerByOpenTrailer)(),r=document.querySelector(".autoplay-progress svg"),o=document.querySelector(".autoplay-progress span"),new Swiper(".js-hero-wrapper",f(r,o)),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(0),console.log("error:",e.t0);case 16:d.onClose();case 17:case"end":return e.stop()}}),n,null,[[0,13]])}))),function(){return l.apply(this,arguments)});g();var f=function(e,n){return{effect:"cube",loop:!0,keyboard:{enabled:!0},autoplay:{delay:5e3,disableOnInteraction:!1,pauseOnMouseEnter:!0},on:{autoplayTimeLeft:function(t,a,r){e.style.setProperty("--progress",1-r),n.textContent="".concat(Math.ceil(a/1e3),"s")}},grabCursor:!0,cubeEffect:{shadow:!0,slideShadows:!0,shadowOffset:20,shadowScale:.94},pagination:{el:".swiper-pagination",clickable:!0}}},m=function(e){return'\n\n      <div class="swiper-wrapper">\n        '.concat(e.map((function(e){return h(e)})).join(""),'\n      </div>\n      <div class="swiper-pagination"></div>\n      <div class="autoplay-progress">\n      <svg viewBox="0 0 48 48">\n        <circle cx="24" cy="24" r="20"></circle>\n      </svg>\n      <span></span>\n    </div>\n    ')},h=function(n){var t,a,r=n.id,i=n.backdrop_path,s=n.original_title,l=n.overview,d=n.vote_average;return'\n    <div class="swiper-slide">\n\n        <img class="hero-background-img\n        '.concat((t=i,a=i,null!==t&&t?' srcset="\n          https://image.tmdb.org/t/p/w1280'.concat(t," 1280w,\n          https://image.tmdb.org/t/p/w780").concat(t,'  280w\n        "\n        src="https://image.tmdb.org/t/p/original').concat(t,'"\n        sizes=" (min-width: 768px) 704px, (min-width: 320px) 280px, 100vw"\n        alt="').concat(a,'"'):"src='".concat(e(o),"' alt='").concat(a,"'")),'/>\n      \n      <div class="container">\n        <div class="hero-text-wrap">\n          <h1 class=" hero-title">').concat(s,'</h1>\n          <div class="hero-movie-rating">\n            ').concat(c(10*d),'\n          </div>\n          <p class=" hero-text">').concat(l,'</p>\n        </div>\n\n        <div class="hero-button-wrap">\n        <button data-movie_id_for_trailer=').concat(r,'\n            type="button" class="js-button-show-trailer button-accent">\n              Watch trailer\n          </button>\n          <button data-movie_id_for_modal=').concat(r,'\n            type="button" class="button-light-theme">\n              More details\n          </button>\n        </div>\n\n      </div>\n    </div>')};var w;i=r("bpxeT"),s=r("2TvXO"),u=r("lpiv7");w=r("aNJCr").getBundleURL("gin8l")+r("iE7OH").resolve("aI1lb");var b=function(n,t){return n.map((function(n){var a,r,o=n.id,i=n.poster_path,s=n.genre_ids,l=n.original_title,d=n.release_date,u=n.vote_average;return'\n        <li data-movie_id_for_modal="'.concat(o,'" class="movie-card">\n          <img\n          ').concat((a=i,r=l,null!==a&&a?'\n    srcset="\n    https://image.tmdb.org/t/p/w300/'.concat(a," 342w,\n    https://image.tmdb.org/t/p/w500/").concat(a,' 500w\n            "\n       src="https://image.tmdb.org/t/p/w500/').concat(a,'"\n     sizes="(min-width: 768px) 500px, (min-width: 480px) 342px, (min-width: 320px) 185px, 100vw"   \n     alt=\'').concat(r,"'"):"src='".concat(e(w),"' alt='").concat(r,"'")),'\n          class="movie-card-img"\n          width="280"\n          height="406"\n          />\n          <div class="movie-card-wrapper">\n              <h2 class="movie-card-title">').concat(l,'</h2>\n              <p class="movie-card-text">\n                ').concat(function(e,n){var t="";0===(null==e?void 0:e.length)?t="Unknown Genre":e&&(t=function(e,n){try{return e.map((function(e){var t=n.find((function(n){return n.id===e}));return t?t.name:null}))}catch(e){return["Unknown Genre"]}}(e,n).slice(0,1).join(" "));return t}(s,t)," | ").concat(d.slice(0,4),'\n              </p>\n              <div class="movie-card-rating">\n              ').concat(c(10*u),"\n              </div>\n          </div>\n        </li>\n       ")})).join("")};var y=new(0,u.TMDB_API),_=document.querySelector(".js-catalog-movie-list"),x=document.querySelector(".js-catalog-search-form-button-close");function k(e){return L.apply(this,arguments)}function L(){return(L=e(i)(e(s).mark((function n(t){var a,r,o,i;return e(s).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,d.onShow(),"week-movies"!==t){e.next=12;break}return e.next=5,y.getTrendMovieByParam("week");case 5:return a=e.sent,e.next=8,y.getGenresList();case 8:r=e.sent,H(a,r),e.next=20;break;case 12:if("query-movies"!==t){e.next=20;break}return e.next=15,y.searchMovieByQuery();case 15:return o=e.sent,e.next=18,y.getGenresList();case 18:i=e.sent,H(o,i);case 20:e.next=25;break;case 22:e.prev=22,e.t0=e.catch(0),console.log("Error:",e.t0);case 25:d.onClose();case 26:case"end":return e.stop()}}),n,null,[[0,22]])})))).apply(this,arguments)}k("week-movies");var H=function(e,n){var t=e.results,a=e.page,r=e.total_pages,o=(e.total_results,document.querySelector(".js-catalog-pagination"));if(0===t.length)return o.innerHTML="",void(_.innerHTML='\n    <p class="catalog-message">\n        <span>OOPS...</span>\n        <span>We are very sorry!</span>\n        <span>We donâ€™t have any results matching your search.</span>\n    </p >\n    ');a<r?(o.innerHTML='<button class="js-load-more button-dark-theme" type="button">Load More</button><div>pagination</div>',document.querySelector(".js-load-more").addEventListener("click",j)):o.innerHTML="",1===y.page&&(_.innerHTML=""),_.insertAdjacentHTML("beforeend",b(t,n))},S=document.querySelector(".js-catalog-search-form"),T=S.elements,E=T.query,q=T.queryText,M=T.select;function j(){y.page+=1,""===y.query?k("week-movies"):k("query-movies")}E.addEventListener("input",(function(){x.classList.remove("is-hidden"),q.placeholder=E.value,""===E.value&&x.classList.add("is-hidden")})),x.addEventListener("click",(function(){x.classList.add("is-hidden"),E.value="",q.placeholder="Film"})),S.addEventListener("submit",(function(e){if(e.preventDefault(),y.page=1,y.query===E.value&&y.year===M.value)return;if(""===E.value.trim())return;""!==M.value&&(y.year=M.value);y.query=E.value,k("query-movies")}))}();
//# sourceMappingURL=catalog.cd1d4194.js.map
