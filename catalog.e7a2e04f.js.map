{"mappings":"iiBAAAA,EAAA,SAAAC,SAA8CC,KAAKC,MAAM,2N,4CCAzD,I,EAAAC,EAAAJ,EAAA,S,aCAAK,EAAiBL,EAAA,SAAAM,aAA6C,SAAWN,EAAA,SAAAO,QAA6C,SCAtH,I,EAaaC,EAAS,CAAEC,OAbT,WACbC,SAASC,KAAKC,mBACZ,YACC,6E,EAU2BC,QAJhB,WACdH,SAASI,cAAc,oBAAoBC,Q,6BFDvCC,EAAe,SAACC,EAAgBC,G,MAAqB,CACzDC,OAAQ,OACRC,MAAM,EACNC,SAAU,CACRC,SAAS,GAEXC,SAAU,CACRC,MAAO,IACPC,sBAAsB,EACtBC,mBAAmB,GAErBC,GAAI,CACFC,iBAAA,SAAiBC,EAAGC,EAAMC,GACxBd,EAAee,MAAMC,YAAY,aAAc,EAAIF,GACnDb,EAAgBgB,YAAc,GAA0BC,OAAvBC,KAAKC,KAAKP,EAAO,KAAM,I,GAG5DQ,YAAY,EACZC,WAAY,CACVC,QAAQ,EACRC,cAAc,EACdC,aAAc,GACdC,YAAa,KAEfC,WAAY,CACVC,GAAI,qBACJC,WAAW,G,EAITC,G,EAAqBC,EAAA5C,EAAA,CAAA4C,EAAAC,GAAAC,MAAA,SAAAC,I,IAGjBC,EACAC,EAMApC,EACAC,E,kFATNV,EAAOC,S,SACgB6C,EAAAC,SAASC,qBAAqB,O,OAA/CJ,EAAQK,EAAAC,KACRL,EAAcD,EAASO,MAAM,EAAG,GAEtCjD,SAASI,cAAc,oBAAoB8C,UACzCC,EAAsBR,IACxB,EAAAS,EAAAC,iCAEM9C,EAAiBP,SAASI,cAAc,0BACxCI,EAAkBR,SAASI,cAAc,2BAE/C,IAAIkD,OACF,mBACAhD,EAAaC,EAAgBC,I,kDAG/B+C,QAAQC,IAAI,SAAQT,EAAAU,I,QAEtB3D,EAAOK,U,sGAGTkC,IAEA,IAAMc,EAAwB,SAAAO,G,MAAU,mDAG6BjC,OAA3DiC,EAAOC,KAAI,SAAAC,G,OAASC,EAAsBD,E,IAAQE,KAAK,IAAI,6O,EAW/DD,EAAwB,SAAAE,G,IG9EGC,EHiHfC,EAAgBC,EAlChCC,EAAEJ,EAAFI,GACAC,EAAaL,EAAbK,cACAC,EAAcN,EAAdM,eACAC,EAAQP,EAARO,SACAC,EAAYR,EAAZQ,a,MACI,wFAQ8B9C,QAqBlBwC,EAzBCG,EAyBeF,EAzBAE,EA0BT,OAAnBH,GAA4BA,EAIzB,wDAEkCxC,OADCwC,EAAe,sDAGTxC,OAFPwC,EAAe,uEAI3CxC,OAFmCwC,EAAe,gGAE5CxC,OAANyC,EAAM,KATV,QAA4BzC,OAApBa,EAAA3C,GAAW,WAAe8B,OAANyC,EAAM,MA3BoB,uHAMnDzC,OAFsB4C,EAAe,kEAIjB5C,QGhGDuC,EH8Fc,GAAfO,EG7FvB,kGAGuB9C,OAAPuC,EAAO,4CH0FmB,wDAMPvC,OAJV6C,EAAS,8GAQC7C,OAJA0C,EAAG,2KAIA1C,OAAH0C,EAAG,uJ","sources":["node_modules/@parcel/runtime-js/lib/runtime-f5685bb19945deba.js","src/js/pages/catalog/hero.js","node_modules/@parcel/runtime-js/lib/runtime-d0cdfc4165f8444a.js","src/js/components/loader.js","src/js/components/rating-stars.js"],"sourcesContent":["require('./helpers/bundle-manifest').register(JSON.parse(\"{\\\"gin8l\\\":\\\"catalog.e7a2e04f.js\\\",\\\"gVEw5\\\":\\\"default_horizontal_poster_path.736ae198.jpg\\\",\\\"7mVsD\\\":\\\"catalog.d6b9a5fd.css\\\",\\\"30zUr\\\":\\\"catalog.72117431.js\\\"}\"));","import { ratingStarsMarkup } from '../../components/rating-stars';\nimport defaultImg from '../../../images/default_horizontal_poster_path.jpg';\nimport { Loader } from '../../components/loader';\nimport { TMDB_API } from '../../api/themoviedbAPI';\nimport { addEventListenerByOpenTrailer } from '../../services/open-movie-trailer';\n\n// import '~/node_modules/swiper/swiper-bundle.min.js';\n// import Swiper from 'swiper';\n\nconst swiperOption = (progressCircle, progressContent) => ({\n  effect: 'cube',\n  loop: true,\n  keyboard: {\n    enabled: true,\n  },\n  autoplay: {\n    delay: 5000,\n    disableOnInteraction: false,\n    pauseOnMouseEnter: true,\n  },\n  on: {\n    autoplayTimeLeft(s, time, progress) {\n      progressCircle.style.setProperty('--progress', 1 - progress);\n      progressContent.textContent = `${Math.ceil(time / 1000)}s`;\n    },\n  },\n  grabCursor: true,\n  cubeEffect: {\n    shadow: true,\n    slideShadows: true,\n    shadowOffset: 20,\n    shadowScale: 0.94,\n  },\n  pagination: {\n    el: '.swiper-pagination',\n    clickable: true,\n  },\n});\n\nconst getTrendMovieOfDay = async () => {\n  try {\n    Loader.onShow();\n    const response = await TMDB_API.getTrendMovieByParam('day');\n    const correctList = response.slice(0, 5);\n\n    document.querySelector('.js-hero-wrapper').innerHTML =\n      createMarkupMovieList(correctList);\n    addEventListenerByOpenTrailer();\n\n    const progressCircle = document.querySelector('.autoplay-progress svg');\n    const progressContent = document.querySelector('.autoplay-progress span');\n\n    new Swiper(\n      '.js-hero-wrapper',\n      swiperOption(progressCircle, progressContent)\n    );\n  } catch (error) {\n    console.log('error:', error);\n  }\n  Loader.onClose();\n};\n\ngetTrendMovieOfDay();\n\nconst createMarkupMovieList = movies => `\n\n      <div class=\"swiper-wrapper\">\n        ${movies.map(movie => createMarkupMovieItem(movie)).join('')}\n      </div>\n      <div class=\"swiper-pagination\"></div>\n      <div class=\"autoplay-progress\">\n      <svg viewBox=\"0 0 48 48\">\n        <circle cx=\"24\" cy=\"24\" r=\"20\"></circle>\n      </svg>\n      <span></span>\n    </div>\n    `;\n\nconst createMarkupMovieItem = ({\n  id,\n  backdrop_path,\n  original_title,\n  overview,\n  vote_average,\n}) => `\n    <div class=\"swiper-slide\">\n\n        <img class=\"hero-background-img\n        ${getBgImg(backdrop_path, backdrop_path, original_title)}/>\n      \n      <div class=\"container\">\n        <div class=\"hero-text-wrap\">\n          <h1 class=\" hero-title\">${original_title}</h1>\n          <div class=\"hero-movie-rating\">\n            ${ratingStarsMarkup(vote_average * 10)}\n          </div>\n          <p class=\" hero-text\">${overview}</p>\n        </div>\n\n        <div class=\"hero-button-wrap\">\n        <button data-movie_id_for_trailer=${id}\n            type=\"button\" class=\"js-button-show-trailer button-accent\">\n              Watch trailer\n          </button>\n          <button data-movie_id_for_modal=${id}\n            type=\"button\" class=\"button-light-theme\">\n              More details\n          </button>\n        </div>\n\n      </div>\n    </div>`;\n\nfunction getBgImg(backdropPoster, title) {\n  if (backdropPoster === null || !backdropPoster) {\n    return `src='${defaultImg}' alt='${title}'`;\n  }\n\n  return ` srcset=\"\n          https://image.tmdb.org/t/p/w1280${backdropPoster} 1280w,\n          https://image.tmdb.org/t/p/w780${backdropPoster}  280w\n        \"\n        src=\"https://image.tmdb.org/t/p/original${backdropPoster}\"\n        sizes=\" (min-width: 768px) 704px, (min-width: 320px) 280px, 100vw\"\n        alt=\"${title}\"`;\n}\n","module.exports = require('./helpers/bundle-url').getBundleURL('gin8l') + require('./helpers/bundle-manifest').resolve(\"gVEw5\");","const onShow = () => {\n  document.body.insertAdjacentHTML(\n    'beforeend',\n    `<div class=\"backdrop-loader\">\n  <div class=\"lds-dual-ring\"></div>\n</div>`\n  );\n};\n\nconst onClose = () => {\n  document.querySelector('.backdrop-loader').remove();\n};\n\nexport const Loader = { onShow, onClose };\n","export const ratingStarsMarkup = rating => {\n  return `\n  <div class=\"rating-container\">\n    <div class=\"star-empty\"></div>\n    <div style=\" width:${rating}%;\"  class=\"star-full\"></div>\n  </div>`;\n};\n"],"names":["parcelRequire","register","JSON","parse","$bpxeT","$018f6c638d807d5d$exports","getBundleURL","resolve","$db576fa6837b6c10$export$3b0d6d7590275603","onShow","document","body","insertAdjacentHTML","onClose","querySelector","remove","$53267ae005055d71$var$swiperOption","progressCircle","progressContent","effect","loop","keyboard","enabled","autoplay","delay","disableOnInteraction","pauseOnMouseEnter","on","autoplayTimeLeft","s","time","progress","style","setProperty","textContent","concat","Math","ceil","grabCursor","cubeEffect","shadow","slideShadows","shadowOffset","shadowScale","pagination","el","clickable","$53267ae005055d71$var$getTrendMovieOfDay","$parcel$interopDefault","$2TvXO","mark","_callee","response","correctList","$lpiv7","TMDB_API","getTrendMovieByParam","_ctx","sent","slice","innerHTML","$53267ae005055d71$var$createMarkupMovieList","$gYAW9","addEventListenerByOpenTrailer","Swiper","console","log","t0","movies","map","movie","$53267ae005055d71$var$createMarkupMovieItem","join","param","rating","backdropPoster","title","id","backdrop_path","original_title","overview","vote_average"],"version":3,"file":"catalog.e7a2e04f.js.map"}