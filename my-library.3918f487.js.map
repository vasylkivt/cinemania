{"mappings":"6kBAAA,IAAAA,EAAAC,EAAA,S,uCCAaC,EAAO,CAClBC,eAAgBC,SAASC,cAAc,eACvCC,WAAYF,SAASC,cAAc,kBACnCE,SAAUH,SAASC,cAAc,kB,8BDK7BG,EAAgB,IAAI,EAAAC,EAAAC,UAe1B,SAASC,IACPT,EAAKI,WAAWM,UAAY,GAC5BV,EAAKC,eAAeS,UAAY,GAChC,IAAMC,EAAcC,EAAAC,QAAQC,KAAKC,EAAAC,YAAYC,qBAClBC,QAAQP,GAAuC,KAAxBA,aAAA,EAAAA,EAAaQ,S,SASlCR,GAAhBS,EAAeC,MAAAC,KAAAC,U,CAN1BC,CAAgBb,GAEhBX,EAAKC,eAAeS,UE/Bd,0S,UFmCKU,I,OAAAA,EAAfK,EAAA3B,EAAA,CAAA2B,EAAAC,GAAAC,MAAA,SAAAC,EAA+BjB,G,IAOrBkB,E,kFADNC,EAAAC,OAAOC,S,SACkB1B,EAAc2B,gB,OAAjCJ,EAAUK,EAAAC,KAChBnC,EAAKI,WAAWgC,mBACd,aACA,EAAAN,EAAAO,uBAAsB1B,EAAakB,I,gDAGrCS,QAAQC,IAAI,SAAQL,EAAAM,I,QAEtBV,EAAAC,OAAOU,U,0DAfqBpB,MAAAC,KAAAC,U,CArB9Bd,IAGAP,SAASwC,iBAAiB,SAAS,SAAAC,GAC7BA,EAAEC,OAAOC,UAAUC,SAAS,sBAC9BrC,G","sources":["src/js/pages/my-library/my-library.js","src/js/pages/my-library/refs.js","src/js/pages/my-library/markupContentTextMessage.js"],"sourcesContent":["import Storage from '../../services/local-storage';\nimport { STORAGE_KEY } from '../../events/add-remove-movie';\nimport { refs } from './refs';\nimport { markupContentTextMessage } from './markupContentTextMessage';\n\nimport { TMDB_API } from '../../api';\nimport { Loader, createMarkupMovieList } from '../../components';\n\nconst themoviedbAPI = new TMDB_API();\n\n// const PER_PAGE = 6;\n\n// const isVisibleBtnLoadMore =\n//   isVisibleMovieList && dataStorage?.length > PER_PAGE;\n\nrenderContentBasedOnConditions();\n\n//? слухач на кнопку (додавання видалення з локального сховища) для динамічного обновлення списку фільмів\ndocument.addEventListener('click', e => {\n  if (e.target.classList.contains('js-add-remove-btn'))\n    renderContentBasedOnConditions();\n});\n\nfunction renderContentBasedOnConditions() {\n  refs.moviesList.innerHTML = '';\n  refs.contentMessage.innerHTML = '';\n  const dataStorage = Storage.load(STORAGE_KEY.myLibraryMoviesList);\n  const isVisibleMovieList = Boolean(dataStorage && dataStorage?.length !== 0);\n\n  if (isVisibleMovieList) {\n    renderMovieList(dataStorage);\n  } else {\n    refs.contentMessage.innerHTML = markupContentTextMessage();\n  }\n}\n\nasync function renderMovieList(dataStorage) {\n  // if (isVisibleBtnLoadMore) {\n  //   refs.loadMore.innerHTML = markupBtnLoadMore();\n  // }\n\n  try {\n    Loader.onShow();\n    const genresList = await themoviedbAPI.getGenresList();\n    refs.moviesList.insertAdjacentHTML(\n      'beforeend',\n      createMarkupMovieList(dataStorage, genresList)\n    );\n  } catch (error) {\n    console.log('Error:', error);\n  }\n  Loader.onClose();\n}\n","export const refs = {\n  contentMessage: document.querySelector('.js-content'),\n  moviesList: document.querySelector('.js-movie-list'),\n  loadMore: document.querySelector('.js-load-more'),\n};\n","export function markupContentTextMessage() {\n  return ` \n    <div class=\"my-library-content-wrap\">\n  <p class=\"my-library-text-message\">\n    <span>OOPS...</span>\n    <span>We are very sorry!</span>\n    <span>You don’t have any movies at your library.</span>\n  </p>\n  <a class=\"button-accent\" href=\"./catalog.html\">Search movie</a>\n</div>\n    `;\n}\n"],"names":["$bpxeT","parcelRequire","$e51e8fcee1d77125$export$21666b427502ea6d","contentMessage","document","querySelector","moviesList","loadMore","$3c15aba5a275eda1$var$themoviedbAPI","$i24Cx","TMDB_API","$3c15aba5a275eda1$var$renderContentBasedOnConditions","innerHTML","dataStorage","$2Mm80","default","load","$6S7o7","STORAGE_KEY","myLibraryMoviesList","Boolean","length","$3c15aba5a275eda1$var$_renderMovieList","apply","this","arguments","$3c15aba5a275eda1$var$renderMovieList","$parcel$interopDefault","$2TvXO","mark","_callee","genresList","$1V9lP","Loader","onShow","getGenresList","_ctx","sent","insertAdjacentHTML","createMarkupMovieList","console","log","t0","onClose","addEventListener","e","target","classList","contains"],"version":3,"file":"my-library.3918f487.js.map"}